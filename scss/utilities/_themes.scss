// default header, breadcrumb
header,
.breadcrumb.headroom--unpinned {
  background: $white;
  border-bottom: 1px solid $black;
}

.breadcrumb.headroom--pinned {
  background: $white;
}

header.headroom--unpinned {
  border-bottom: none;
}

/* issue toc theme
remove white background from default */
body.toc {
  header,
  .breadcrumb.headroom--unpinned {
    background: none;
    border-bottom: 1px solid $black;
  }
  .breadcrumb.headroom--pinned {
    background: none;
    transition: all 0.3s ease;
  }
}

// issue theme mixins
$light: $white;

@mixin toc($name, $primary, $secondary) {
  .#{$name} {
    main,
    footer {
      background: $primary;
    }

    main,
    footer {
      color: rgba($secondary, 0.9);
      -webkit-font-smoothing: antialiased !important;
    }

    header a,
    ol li a,
    main a {
      color: rgba($secondary, 0.9);
    }

    header {
      background: none !important;
      border-bottom: 1px solid rgba($secondary, 0.9) !important;
      -webkit-font-smoothing: antialiased !important;
    }

    .breadcrumb ol {
      display: flex;
      align-items: top;

      li {
        &::before {
          background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='5' height='5'><circle cx='2.5' cy='2.5' r='2.5' fill='white'/></svg>")
            no-repeat;
          opacity: 0.9;
        }
      }
    }

    .breadcrumb.headroom--unpinned {
      background: $primary !important;
      border-bottom: 1px solid rgba($secondary, 0.7) !important;
      transition: all 0.3s ease;
    }

    .article__title {
      border-top: 1px solid rgba($secondary, 0.7);
    }

    // issue title/frontis
    .issue__frontis {
      color: rgba($secondary, 0.9);
    }

    .article__content:hover {
      .article__formatted-title {
        border-color: $secondary;
      }
    }

    header a:hover {
      border-color: $secondary;
    }

    // "duotone" images
    .media--image img {
      filter: grayscale(100%) contrast(0.9) blur(0);
      mix-blend-mode: multiply;
      object-fit: cover;
      position: relative;
    }
  }
}

// article theme mixins, from the editor

@mixin article($name, $primary) {
  .#{$name} {
    .region {
      color: $primary;
    }

    .article__title {
      border-top: 1px solid rgba($primary, 0.7);
    }

    .media--image {
      background: $primary;
    }

    .media--image img,
    .field-article-gallery img {
      filter: grayscale(100%) contrast(1) blur(0);
      height: 100%;
      max-width: 100%;
      mix-blend-mode: overlay;
      object-fit: cover;
      position: relative;
      width: 100%;
    }
  }
}

@include toc(hyla-toc, $hyla, $light);
@include toc(hyla-editor, $hyla, $light);
@include toc(change-toc, $change, $light);

@include article(hyla-article, $hyla);
