{"version":3,"sources":["js-src/headroom.js"],"names":["t","o","define","amd","exports","module","Headroom","this","callback","ticking","window","nodeType","i","arguments","length","Error","n","e","s","r","Object","down","up","options","lastKnownScrollY","elem","tolerance","classes","offset","scroller","initialised","onPin","onUnpin","onTop","onNotTop","onBottom","onNotBottom","bind","classList","document","documentElement","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","prototype","constructor","update","requestTick","rafCallback","handleEvent","init","cutsTheMustard","debouncer","add","initial","setTimeout","attachEvent","destroy","hasOwnProperty","remove","removeEventListener","getScrollY","addEventListener","unpin","contains","pinned","unpinned","call","pin","top","notTop","bottom","notBottom","pageYOffset","scrollTop","body","parentNode","getViewportHeight","innerHeight","clientHeight","getElementPhysicalHeight","Math","max","offsetHeight","getScrollerPhysicalHeight","getDocumentHeight","scrollHeight","getElementHeight","getScrollerHeight","isOutOfBounds","toleranceExceeded","abs","shouldUnpin","shouldPin"],"mappings":"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","file":"../../js-src/headroom.js","sourcesContent":["!function(t,o){\"use strict\";\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?module.exports=o():t.Headroom=o()}(this,function(){\"use strict\";function t(t){this.callback=t,this.ticking=!1}function o(t){return t&&\"undefined\"!=typeof window&&(t===window||t.nodeType)}function i(t){if(arguments.length<=0)throw new Error(\"Missing arguments in extend function\");var n,e,s=t||{};for(e=1;e<arguments.length;e++){var r=arguments[e]||{};for(n in r)\"object\"!=typeof s[n]||o(s[n])?s[n]=s[n]||r[n]:s[n]=i(s[n],r[n])}return s}function n(t){return t===Object(t)?t:{down:t,up:t}}function e(t,o){o=i(o,e.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=n(o.tolerance),this.classes=o.classes,this.offset=o.offset,this.scroller=o.scroller,this.initialised=!1,this.onPin=o.onPin,this.onUnpin=o.onUnpin,this.onTop=o.onTop,this.onNotTop=o.onNotTop,this.onBottom=o.onBottom,this.onNotBottom=o.onNotBottom}var s={bind:!!function(){}.bind,classList:\"classList\"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){if(e.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1;for(var o in t)t.hasOwnProperty(o)&&this.elem.classList.remove(t[o]);this.scroller.removeEventListener(\"scroll\",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener(\"scroll\",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,o=this.classes;!t.contains(o.pinned)&&t.contains(o.unpinned)||(t.add(o.unpinned),t.remove(o.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,o=this.classes;t.contains(o.unpinned)&&(t.remove(o.unpinned),t.add(o.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,o=this.classes;t.contains(o.top)||(t.add(o.top),t.remove(o.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notTop)||(t.add(o.notTop),t.remove(o.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.bottom)||(t.add(o.bottom),t.remove(o.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,o=this.classes;t.contains(o.notBottom)||(t.add(o.notBottom),t.remove(o.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,o=document.documentElement;return Math.max(t.scrollHeight,o.scrollHeight,t.offsetHeight,o.offsetHeight,t.clientHeight,o.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var o=t<0,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return o||i},toleranceExceeded:function(t,o){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[o]},shouldUnpin:function(t,o){var i=t>this.lastKnownScrollY,n=t>=this.offset;return i&&n&&o},shouldPin:function(t,o){var i=t<this.lastKnownScrollY,n=t<=this.offset;return i&&o||n},update:function(){var t=this.getScrollY(),o=t>this.lastKnownScrollY?\"down\":\"up\",i=this.toleranceExceeded(t,o);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},e.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:\"headroom--pinned\",unpinned:\"headroom--unpinned\",top:\"headroom--top\",notTop:\"headroom--not-top\",bottom:\"headroom--bottom\",notBottom:\"headroom--not-bottom\",initial:\"headroom\"}},e.cutsTheMustard=\"undefined\"!=typeof s&&s.rAF&&s.bind&&s.classList,e});\n//# sourceMappingURL=../maps/js-src/headroom.js.map\n"]}